<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./css/index.css">
        <link rel="stylesheet" href="./css/map.css">
        <link rel="stylesheet" href="./css/tornadoPlots.css">
        <link rel="stylesheet" href="./css/auxforBoxPlots.css">
        <link rel="stylesheet" href="./css/unitvis.css">
        <link rel="stylesheet" href="./css/box.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Bitter:ital,wght@1,500&family=Special+Elite&display=swap" rel="stylesheet">

    </head>
    <body>
        <div id='header-photo'>
            <img src="img/fivering.png" width="700" height="400">
            <img src="img/stadium.jpg" width="700" height="400">
        </div>
        <div id="open-text">
          <h1 style="font-size:300%;text-align:center;font-family: 'Bitter';color: steelblue;">Time Waits for No One:<br>
          How Olympic Athletes’ Ages 
Correlate with Performance</h1>
            <h3 style="text-align: center;font-family:'Special Elite';">
              <span style="color: orange;">Yuexi (Tracy) Chen, </span> 
              <span >Hana Hailu, </span> 
              <span style="color: green;">Joshua McCurry, </span>
              <span style="color: red;">Junran Yang</span>
              </h2>
              <h3 style="text-align:center;font-family: 'Bitter';">Email: {ychen151, hhailu, jmccurry, jryang}@umd.edu</h3>
        </div>
        <h1 style="text-align: center";>
        <span style="font-size:200%;font-family: Special Elite;">Click <a href="#main-1">
          <svg height="68" width="68">
              <circle cx="38" cy="38" r="30" stroke="white" stroke-width="1" fill="steelblue" />
              <polygon points="19,30 57,30 38,55" style="fill:white;stroke:white;stroke-width:1" />
          </svg></a> to begin!</span></h1>
        </div>

        <div id="main-1">
          <div class="scrollytelling-text" style="margin-left:50px">
            <div class="intro">
              <h2>Introduction: Time waits for no one</h2>
              <p>The 2020 Tokyo Olympics was postponed => All Olympic athletes will be one-year older next year. 
              The simple observation inspires us to explore the correlation between athletes’ ages and 
              performance thoroughly.<p>
            </div>
            <div class="small empty"></div>
            <div class="intro">
             <p><a href="https://www.kaggle.com/heesoo37/120-years-of-olympic-history-athletes-and-results" target="_blank">We used a dataset</a> 
              of 260k+ Olympic athletes' information (name, age, gender, nationality, medal, etc) from 1896 to 2016. 
              We created following interactive data visualizations:<br>
             <ol>
              <li><b>Overview:</b> frequency plots (and box plots) for athletes of different ages, sports, Olympic years, and countries.[1]</li>
              <li><b>Sports vs. age:</b> a stacked bar chart and a dot-line chart</li> 
              <li><b>Country/gender vs. age:</b> based on athletes’ nationalities, we visualize athletes’ performance of different income-level country groups according to <a href=”https://datahelpdesk.worldbank.org/knowledgebase/articles/906519-world-bank-country-and-lending-groups” target="_blank"> the World Bank’s report.</a></li>
              <li><b>A prediction tool:</b> we trained a machine learning model to support real-time performance prediction based on the user input.</li>
            </ol>
              <p style="font-size: small;">[1] To reduce visual clutter and support smooth interactions, we sampled 5% of all datasets in part 1. </p>
            </div>
            <div class="special empty"></div>
            <div class="sports">
                <h2>Part 1: Overview</h2>
                <p> How to interact: </p>
                <p>
                  <ol>
                    <li><b>Sort by:</b> sort the frequency plot by age, number of athletesor the alphabetical order</li>
                    <li><b>Filter:</b> filter data points by season or gender</li>
                    <li><b>Change y-axis:</b> the data could be aggregated by sports, country, year and gender</li>
                    <li><b>Change mode:</b> toggle to show the density plot or the box plot</li>
                    <li><span style="color: #0286c3;"><b>Animations:</b> scroll down and the y-axis will be updated automatically!</li></span>
                  </ol>

                </p>
                <p> Try it yourself!<svg height="68" width="68">
                  <circle cx="38" cy="38" r="30" stroke="white" stroke-width="1" fill="steelblue" />
                  <polygon points="30,20 30,56 55,38" style="fill:white;stroke:white;stroke-width:1" /></svg> </p>
            </div>

            
            <div class="special empty" id="st_sports"></div>
            <div class="sports">
                <h2>Sports</h2>
                <p>Now the y-axis shows all the Olympic sports</p>
                <p style="color: #0286c3;">Too small? Scroll inside the plot to zoom and pan! Or try the filter to see sports
                of winter and summer Olympics</p>
                <h3>Background knowledge</h3>
                <p> Some sports appear in every summer Olympic Games, e.g. athletics, swimming, fencing, etc., 
                  while some sports appear only recently, e.g. badminton (since 1992), Triathlon (since 2000).
                  Similary, sports like Figure skating, Ice hockey and Ski jumping appear in every winter Olympics, while 
                  some sports appear only recently, e.g. short track speed skating (since 1992), snowboarding (since 1998). </p>
            </div>

            <div class="empty"></div>
            <div class="empty"></div>
            <div class="empty" id="st_country"></div>
            <div class="small empty" id="fp_country"></div>
            <div class="country">
              <h2>Country</h2>
              <p>Now the y-axis shows all the nations and regions have participated in Olympics</p>
              <p style="color:  #0286c3;">Too crowded? Don't panic! Scroll inside the plot to zoom and pan!</p>
              <p class="para">
                
              </p>
            </div>
        
            <div class="empty"></div>
            <div class="empty"></div>
            <div class="empty" id="st_year"></div>
            <div class="small empty" id="fp_year"></div>
            <div class="year">
              <h2>Year</h2>
              <p>Now the y-axis shows all the Olympics years</p>
              <p>Try to toggle the mode button <img src="boxPlot/icons/disabledImg.png" height="22" width="42"/> to see the distribution more clearly</p>
              <p class="para">
              <h3>Background knowledge</h3>
                <p>  Winter and summer Olympics used to be held in the same year. Since 1994, summer Olympics were 
                  held in leap years, and winter Olympics were held between two leap years (still every 4 years).
                </p>
              </p>
              
            </div>
        
            <div class="empty"></div>
            <div class="empty" id="st_gender"></div>
            <div class="small empty" id="fp_gender"></div>
            <div class="gender">
              <h2>Gender</h2>
              <p>Now the y-axis shows male and female athletes</p>
              <h3>Background knowledge</h3>
              <p> 
                In the first modern Olympic games (1896), there were no female athletes. In 2016, 45% athletes are female.
              </p>
            </div>
            <div class="empty"></div>
            <div class="empty"></div>
          </div>
        
          <div class="empty"></div>
          <div class="sticky">
              <table style="border:0;">
                    <tr>
                      <td >
                        <div id="freq-plot-sticky">
                          <svg class="box-plot" width="680" height="700">
                          </svg>  
                        </div>
                      </td>
                      <td valign="top">
                        <div>
                          </br></br>
                          Sort by:
        
                          <form class="sortForm" id="sortForm" style="margin-left:7%;">
                            <fieldset>
                              <div>
                                <label><input type="radio" name="optradio" value="alphabetical" class="optradio" id="alphabetical" checked> Alphabetical</label>
                              </div>
                              </br>
                              <div>
                                <label><input type="radio" name="optradio" value="num" class="optradio" id="num"> Number of athletes</label>
                              </div>
        
                              </br>
                              <table style="border:0; border-spacing: 0; border-collapse: collapse; width: 225px;" cellspacing="0" cellpadding="0">
                                <tr>
                                  <td>
                                    <div class="radio">
                                      <label><input type="radio" name="optradio" class="optradio" value="age" id="age"> Age</label>
                                    </div>
                                  </td>
                                  <td valign="top" height="30">
                                    <form class="sortAttr" id="sortAttr" >
                                      <fieldset>
                                        <select name="dropdown" style="display:inline;" id="attDropdown" disabled>
                                          <option value="min">Minimum value</option>
                                          <option value="max">Maximum value</option>
                                          <option value="median">Median</option>
                                        </select>
                                      </fieldset>
                                    </form>
                                  </td>
                                </tr>
                              </table>
                            </fieldset>
                          </form>
                        </div>
                        <div>
                          </br></br>
                          Color by:
        
                          <form class="filterForm" id="filterForm" style="margin-left:7%;">
                            <fieldset>
                              
                              
                                <div>
                                  <label><input type="radio" name="optradio" value="season" class="optradio" id="season" checked="checked"> Seasons</label>
                                </div>
                                  </br>
                                  <form class="seasonForm" id="seasonForm">
                                    <fieldset>
                                      
                                      Filter by: 
                                      <div class="check">
                                        <div>
                                          <label class="checkbox" style="--color:  #ee2f4d;">
                                            <span class="checkbox__input">
                                              <input type="checkbox"  class="summer_check" id="summer" name="optcheck" checked>
                                              <span class="checkbox__control">
                                                <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' aria-hidden="true" focusable="false">
                                                  <path fill='none' stroke='currentColor' stroke-width='3' d='M1.73 12.91l6.37 6.37L22.79 4.59' /></svg>
                                              </span>
                                            </span>
                                            <span class="radio__label">Summer</span>
                                          </label>
                                        </div>
                                        <div>
                                          <label class="checkbox" style="--color: #0286c3;">
                                            <span class="checkbox__input">
                                              <input type="checkbox" class="winter_check" id="winter" name="optcheck" checked  >
                                              <span class="checkbox__control">
                                                <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' aria-hidden="true" focusable="false">
                                                  <path fill='none' stroke='currentColor' stroke-width='3' d='M1.73 12.91l6.37 6.37L22.79 4.59' /></svg>
                                              </span>
                                            </span>
                                            <span class="radio__label">Winter</span>
                                          </label>
                                        </div>
                  
                                        
                                      </div>
                                    </fieldset>
                                  </form>
                                  
                                </br></br>
                              
                                <div>
                                  <label><input type="radio" name="optradio" value="gender" class="optradio" id="gender" > Gender</label>
                                </div>
                                  </br>
                                  <form class="genderForm" id="genderForm">
                                    <fieldset>
                                    
                                    Filter by: 
                                      <div class="check">
                                        <div>
                                          <label class="checkbox" style="--color: #168c39;">
                                            <span class="checkbox__input">
                                              <input type="checkbox" class="female_check" id="female" name="optcheck" disabled checked>
                                              <span class="checkbox__control">
                                                <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' aria-hidden="true" focusable="false">
                                                  <path fill='none' stroke='currentColor' stroke-width='3' d='M1.73 12.91l6.37 6.37L22.79 4.59' /></svg>
                                              </span>
                                            </span>
                                            <span class="radio__label">Female</span>
                                          </label>
                                        </div>
                                        <div>
                                          <label class="checkbox" style="--color: #fbb22e;">
                                            <span class="checkbox__input">
                                              <input type="checkbox" class="male_check" id="male" name="optcheck" disabled checked>
                                              <span class="checkbox__control">
                                                <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' aria-hidden="true" focusable="false">
                                                  <path fill='none' stroke='currentColor' stroke-width='3' d='M1.73 12.91l6.37 6.37L22.79 4.59' /></svg>
                                              </span>
                                            </span>
                                            <span class="radio__label">Male</span>
                                          </label>
                                        </div>
                  
                                        
                                      </div>
                                    </fieldset>
                                  </form>
                                  
                              
                              
                            </fieldset>
                          </form>
                        </div>
        
                        </br></br>
                        Choose Y-axis Attribute:
                        <div select class="sidenav small" id="xScaleSelect">
                          <a href="#st_sports" class="sports">Sports</a>
                          <a href="#st_country" class="country">Country</a>
                          <a href="#st_year" class="year">Year</a>
                          <a href="#st_gender" class="gender">Gender</a>
                        </div>
        
                        <div>
                        <table cellpadding="0" class="toggleSwitchTable" style="margin-left:7%;">
                          <tr>
                            <td width="200px" align="left">
                              <img src="boxPlot/icons/dotPlot.png" alt="dot-plot" height="20" width="60">
                              <label class="switch">
                                <input type="checkbox" id="switchModeCheckbox">
                                <span class="slider round" id="switchModeSwitch"></span>
                              </label>
                              <img src="boxPlot/icons/bNwPlot.png" alt="box-and-whisker-plot" height="20" width="42">
                            </td>
                          </tr>
                          <tr>
                            <td align="center" valign="top">
                              Mode
                            </td>
                          </tr>
                        </table>
                      </div>
        
                      </br></br>
        
                      </td>
        
                      
                      <td>
                        
                        
                      </td>
                    </tr>
              </table>
          </div>
        </div>
          

          
            

        <div class="small empty"></div>
        <h1 style="text-align: center";>
          <span style="font-size:200%;font-family: Special Elite;">Part 2: Sports vs Age in details <a href="#main-2">
            <svg height="68" width="68">
                <circle cx="38" cy="38" r="30" stroke="white" stroke-width="1" fill="steelblue" />
                <polygon points="19,30 57,30 38,55" style="fill:white;stroke:white;stroke-width:1" />
            </svg></a></span></h1>
        
        <div id="main-2" style="margin-left:50px">
        <div class="normal-text">
                <p style="margin-right: 150px;"> The world has an aging population, are Olympic athletes also older than their peers
                  in the past? Does one-year older influence medals a lot? In part 2, we provided two visualizations
                  to facilitate insight discovery: on the left is a stacked bar chart of medals of all time, and
                  on the right is a dot-line chart across years, of which the black line represents the age range of 
                  non-medalists, and gold/silver/bronze represents the median age of corresponding medalists.</p>
                <p><b>How to interact:</b></p>
                <ol>
                <li><b>Drop-down menu:</b></li> Users can select a season, sport and event.
                <li><b>Tooltips:</b></li> Users can hover on the bars or dots to see the detailed information 
                <li><b>Year slider:</b></li> Users can drag and move the year slider to see how the two plots change accordingly. 
                (The green bars indicate active years of that sport/event)
                </ol>
                
        </div>
        <div class="dropdowns">
            <select id='Season'></select>
            <select id='Sport'></select>
            <select id='Event'></select>
        </div>
        <div id="float-container">
            <div id="stackedBar" class="float-child">
            </div>
            <div id="ageDotLine" class="float-child">
            </div>
        </div>
        <div id="year-slider"></div>
        </div>

       
        <div class="small empty"></div>
        <h1 style="text-align: center";>
          <span style="font-size:200%;font-family: Special Elite;">Part 3: Country vs Age in details <a href="#main-3">
            <svg height="68" width="68">
                <circle cx="38" cy="38" r="30" stroke="white" stroke-width="1" fill="steelblue" />
                <polygon points="19,30 57,30 38,55" style="fill:white;stroke:white;stroke-width:1" />
            </svg></a></span></h1>

        
          <div id="main-3" style="margin-left:50px"> 
            <p style="margin-right: 150px;">For this visualization we focused on giving insights about the total number of medals won by athletes and 
              medalists with their corresponding age and gender.<a href="https://doi.org/10.3386/w7998" target="_blank"> Research shows</a> that higher income per capita hints 
              higher medal totals. Here we allow users to observe additional insights by looking at both 
              the income level groups and each countries.</p>
              <p><b>How to interact:</b> 
               <ol>
                <li><b>The map: </b></li> Users can hover on the map to see country names, and also zoom and pan.<br> Users can click 
                a country on the map, and the tornado chart will change to reflect the selected country in darker colors.
                 <li><b>The slider: </b></li> Users can drag the year slider to see how both the map and bar charts changes.
                 <li><b>The bar charts ("tornado charts"): </b></li> Users can hover on each bar to see details.<br> Users can
                 choose to show "all-athletes" or "all-medalists" by the radio button.  
               </ol> 
               </p>
            <div id="map">
                <div class="header"><h1>World Income Groups</h1></div>
                  <button id="zoom-in">Zoom in</button>
                  <button id="zoom-out">Zoom out</button>
                  <button id="resetMap">Reset</button>
            </div>


          <div id="mapYearSlider">
            <p style="font-size: small;">Note: only for summer Olympics as much fewer countries participate in winter Olympics</p>
          </div>
    
          
          <form id="athleteType">
              <input type="radio" name="athleteTypeRadio" value="all-athletes" checked="checked"> all-athletes
              <input type="radio" name="athleteTypeRadio" value="all-medalists"> all-medalists<br>
          </form>
          <p></p>
          <div id="income-plot"></div>
        </div> 

        <div class="small empty"></div>
        <h1 style="text-align: center";>
          <span style="font-size:200%;font-family: Special Elite;">Finally: the prediction <a href="#main-4">
            <svg height="68" width="68">
                <circle cx="38" cy="38" r="30" stroke="white" stroke-width="1" fill="steelblue" />
                <polygon points="19,30 57,30 38,55" style="fill:white;stroke:white;stroke-width:1" />
        </svg></a></span></h1>

        <div id="main-4" style="margin-left:50px">
          <p>Try our prediction tool! How likely is an athlete going to win an Olympic medal?</p>
          <div class="dropdown2">
            <select id='Season2'>
            </select>
            <select id='Sport2'>
            </select>
            <select id='Gender2'>
            </select>
            <select id='Income2'>
            </select>
          </div>
          <div id="age-slider" style="font-size: small;"></div>
          <p>For every 100 such athletes, our model predicts</p>
          <div id="unit-vis"></div>
        </div>

        <div id='bottom-photo'>
          <img src="img/London_2012_banner.jpg" width="1400" height="450">
        </div>



        
        

    <!--  above will change -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.js"></script>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <!-- <script src="./d3/d3-legend.min.js"></script> -->
    <!-- <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>-->
    <!-- <script src="./node_modules/d3-simple-slider/dist/d3-simple-slider.js"></script>-->
    <!-- <script src="https://unpkg.com/d3-simple-slider"></script> -->
    <script src="./d3/d3-tip.js"></script>
    <script src="./d3/d3-simple-slider.js"></script>
   <!-- <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.4/lodash.min.js"></script> -->
    <!-- <script src="https://unpkg.com/d3-simple-slider@0.1.2/build/d3-simple-slider.js"></script> -->
    <!-- <script src="https://d3js.org/d3-fetch.v2.min.js"></script> -->
    <!-- our scripts-->
    <script type="module" src="./boxPlot.js"></script>
    <script type="module" src="./boxPlotIndex.js"></script>
    <script src="./auxforBoxPlots.js"></script>
    <script src="./tornadoFunctions.js"></script>
    <script src="./mapFunctions.js"></script>
    <script src="./mapandTornado.js"></script>
    <script src="./prediction.js"></script>
  </body>
</html>